(()=>{var t={496:(t,e)=>{e.refreshPiePic=function(t,e,n){$(".PiePic").html("");let a=[];n.forEach((function(t){0!==t.value&&a.push(t)})),sort_sheng_data=a.sort(((t,e)=>t.value<e.value?1:-1));let i=[];if(sort_sheng_data.length>=10)for(let t=0;t<10;t++)i.push(sort_sheng_data[t]);else for(let t=0;t<sort_sheng_data.length;t++)i.push(sort_sheng_data[t]);let o=[];i.forEach((function(t){o.push({name:t.name,value:Math.log(t.value)+1})})),function(t,e,n){let a=d3.scaleOrdinal(d3.schemeCategory20),i=d3.select(".PiePic").append("svg").attr("height",290).attr("width",290),o=d3.pie().value((t=>t.value)).sort((t=>t.value)).padAngle(.01)(n),r=d3.arc().outerRadius(70).innerRadius(40),s=d3.arc().innerRadius(80).outerRadius(38),c=i.selectAll("g").data(o).enter().append("g").attr("transform","translate(120,160)").on("mouseover",(function(t){d3.select(this).select("path").transition().attr("d",(function(t){return s(t)}))})).on("mouseout",(function(t){d3.select(this).select("path").transition().attr("d",(function(t){return r(t)}))}));c.append("path").attr("fill",(function(t,e){return a(e)})).attr("d",(function(t){return r(t)})),i.selectAll("rect").data(n.map((function(t){return t.name}))).enter().append("rect").attr("y",(function(t,e){return 100+12*e})).attr("x",(function(t){return 210})).attr("width",20).attr("height",10).attr("fill",((t,e)=>a(e))).on("mouseover",(function(t,e){d3.select(c._groups[0][e]).select("path").transition().attr("d",(function(t){return s(t)}))})).on("mouseout",(function(t,e){d3.select(c._groups[0][e]).select("path").transition().attr("d",(function(t){return r(t)}))})),i.selectAll("text").data(n.map((function(t){return t.name}))).enter().append("text").attr("transform",(function(t,e){return"translate(230,"+(12*e+108)+")"})).attr("fill","\nblack").attr("font-size",10).text((function(t,e){return t})),c.selectAll("text").data(o).enter().append("text").attr("font-size",9).attr("transform",(t=>"translate("+r.centroid(t)+")")).attr("text-anchor","middle").attr("font-size",7).text((t=>t.data.value.toFixed(1))),"china"===t?d3.select(".PiePic>svg:nth-of-type(1)").append("text").attr("x",5).attr("y",20).text(`${curdate}全国累计${e}人数Top10省份`).attr("fill","#5ea8c9").attr("font-weight","bold").attr("font-family","宋体").attr("font-size","16"):d3.select(".PiePic>svg:nth-of-type(1)").append("text").attr("x",5).attr("y",20).text(`${curdate}${t}累计${e}人数Top10省份`).attr("fill","#5ea8c9").attr("font-weight","bold").attr("font-family","宋体").attr("font-size","16")}(t,e,o)}},811:(t,e)=>{e.refreshbarLine=function(t,e,n){let a=[],i=[];n.forEach((function(t,e){0!==t.value&&(a.push(t.name),i.push(t.value))}));let o=myChart2.getOption();console.log(o.series[0].itemStyle),"确诊"===e?o.series[0].itemStyle.color="#C23632":"治愈"===e?o.series[0].itemStyle.color="#5337c2":"死亡"===e&&(o.series[0].itemStyle.color="#c567cb"),o.title[0].text=`${curdate}${t}${e}汇总图`,o.xAxis[0].data=a,o.series[0].data=i,myChart2.setOption(o)},e.DrawbarLine=function(t,e,n){let a=[],i=[];n.forEach((function(t,e){0!==t.value&&(a.push(t.name),i.push(t.value))})),window.myChart2=echarts.init(document.getElementById("barLine"));let o={title:{text:`${curdate}${t}${e}汇总图`,left:"center",textStyle:{color:"#5ea8c9",fontFamily:"宋体",fontSize:16}},tooltip:{trigger:"axis"},grid:{width:"auto",height:"auto",left:"15%"},xAxis:{type:"category",data:a},yAxis:{type:"value"},series:[{data:i,type:"bar",itemStyle:{}}],dataZoom:[{show:!0,realtime:!0,start:0,end:100},{type:"inside",realtime:!0,start:0,end:100}]};myChart2.setOption(o)}},171:(t,e)=>{function n(t){return 1===(t=String(t)).length&&(t=0+t),t}window.tmp=[],e.drawBrokenLine=function(){let t,e=new Date(2019,11,1),a=new Date(2020,11,8),i=e;for(window.myChart3=echarts.init(document.getElementById("brokenLine"));i<a;){let e=`../output/${i.getFullYear()+"-"+n(i.getMonth()+1)+"-"+n(i.getDate())}.json`;t=new Promise((function(t){d3.json(e,(function(t){tmp.push(t[0])})),setTimeout((function(){t(tmp)}),500)})),i=new Date(i.getTime()+864e5)}t.then((function(t){let e,n=[];t.sort((function(t,e){return t.date>e.date?1:-1})),t.forEach((function(t,e){n.push({date:t.date,value:t.confirmed})})),e="确诊";let a={title:{text:"全国疫情确诊人数汇总图",left:"center",textStyle:{color:"#5ea8c9",fontFamily:"宋体",fontSize:16}},tooltip:{trigger:"axis"},grid:{width:"auto",height:"auto",left:"15%"},xAxis:{type:"category",data:n.map((function(t){return t.date}))},yAxis:{type:"value"},series:[{data:n.map((function(t){return t.value})),type:"line",itemStyle:{}}],dataZoom:[{show:!0,realtime:!0,start:0,end:100},{type:"inside",realtime:!0,start:0,end:100}]};myChart3.setOption(a)}))},e.refreshBrokenLine=function(){setTimeout((function(){let t,e=[];$(".buttons>button:nth-of-type(1)").hasClass("select")?(tmp.forEach((function(t,n){let a={date:t.date,value:t.confirmed};e.push(a)})),t="确诊"):$(".buttons>button:nth-of-type(2)").hasClass("select")?(tmp.forEach((function(t,n){e.push({date:t.date,value:t.cured})})),t="治愈"):$(".buttons>button:nth-of-type(3)").hasClass("select")&&(tmp.forEach((function(t,n){e.push({date:t.date,value:t.dead})})),t="死亡");let n=myChart3.getOption();"确诊"===t?n.series[0].itemStyle.color="#C23632":"治愈"===t?n.series[0].itemStyle.color="#5337c2":"死亡"===t&&(n.series[0].itemStyle.color="#c567cb"),n.title[0].text=`全国疫情 ${t} 人数汇总图`,n.series[0].data=e.map((function(t){return t.value})),myChart3.setOption(n)}),1e3)}},553:function(t,e){let n=function(t,e){"use strict";return function(t,e){var n=new Array(19416,19168,42352,21717,53856,55632,91476,22176,39632,21970,19168,42422,42192,53840,119381,46400,54944,44450,38320,84343,18800,42160,46261,27216,27968,109396,11104,38256,21234,18800,25958,54432,59984,28309,23248,11104,100067,37600,116951,51536,54432,120998,46416,22176,107956,9680,37584,53938,43344,46423,27808,46416,86869,19872,42448,83315,21200,43432,59728,27296,44710,43856,19296,43748,42352,21088,62051,55632,23383,22176,38608,19925,19152,42192,54484,53840,54616,46400,46496,103846,38320,18864,43380,42160,45690,27216,27968,44870,43872,38256,19189,18800,25776,29859,59984,27480,21952,43872,38613,37600,51552,55636,54432,55888,30034,22176,43959,9680,37584,51893,43344,46240,47780,44368,21977,19360,42416,86390,21168,43312,31060,27296,44368,23378,19296,42726,42208,53856,60005,54576,23200,30371,38608,19415,19152,42192,118966,53840,54560,56645,46496,22224,21938,18864,42359,42160,43600,111189,27936,44448),a=(new Array("鼠","牛","虎","兔","龙","蛇","马","羊","猴","鸡","狗","猪"),new Array("甲","乙","丙","丁","戊","己","庚","辛","壬","癸"),new Array("子","丑","寅","卯","辰","巳","午","未","申","酉","戌","亥"),new Date);function i(t){var e,a=348;for(e=32768;e>8;e>>=1)a+=n[t-1900]&e?1:0;return a+o(t)}function o(t){return r(t)?65536&n[t-1900]?30:29:0}function r(t){return 15&n[t-1900]}function s(t){var e,a,s,c,l=0,h=(t-new Date(1900,0,31))/864e5;for(this.dayCyl=h+40,this.monCyl=14,e=1900;e<2050&&h>0;e++)h-=l=i(e),this.monCyl+=12;for(h<0&&(h+=l,e--,this.monCyl-=12),this.year=e,this.yearCyl=e-1864,a=r(e),this.isLeap=!1,e=1;e<13&&h>0;e++)a>0&&e==a+1&&0==this.isLeap?(--e,this.isLeap=!0,l=o(this.year)):(s=this.year,c=e,l=n[s-1900]&65536>>c?30:29),1==this.isLeap&&e==a+1&&(this.isLeap=!1),h-=l,0==this.isLeap&&this.monCyl++;0==h&&a>0&&e==a+1&&(this.isLeap?this.isLeap=!1:(this.isLeap=!0,--e,--this.monCyl)),h<0&&(h+=l,--e,--this.monCyl),this.month=e,this.day=h+1}function c(t,e,n){var a=new s(new Date(t,e,n));return function(t,e){e=parseInt(e);var n,a=new Array("日","正","二","三","四","五","六","七","八","九","十","冬","腊"),i=new Array("初","十","廿","卅","　"),o=new Array("日","一","二","三","四","五","六","七","八","九","十");switch(n=a[t]+"月",e){case 10:n+="初十";break;case 20:n+="二十";break;case 30:n+="三十";break;default:n+=i[Math.floor(e/10)],n+=o[e%10]}return n}(a.month,a.day)}function l(t){return 1==(t=String(t)).length&&(t=0+t),t}function h(t){t=t||{},this.inputEl=t.inputEl,this.el=t.el,this.input=null,this.div="div",this.dom=null;var e=new Date;this.today1={nowFullYear:e.getFullYear(),nowMonth:e.getMonth()+1,nowDay:e.getDate(),date:function(){return this.nowFullYear+"-"+this.nowMonth+"-"+this.nowDay}},this.today={nowFullYear:2019,nowMonth:12,nowDay:1,date:function(){return this.nowFullYear+"-"+this.nowMonth+"-"+this.nowDay}},this.weeks=["日","一","二","三","四","五","六"],this.yearDom=null,this.weekDom=null,this.monthDom=null,this.currectYear=this.today.nowFullYear,this.currectMonth=this.today.nowMonth,this.showDate=function(){return this.currectYear+"年"+l(this.currectMonth)+"月"},this.choiceDate={},this.currectChoice=null,this.isShow=!1,this.todayDom=null,this.showDateDom=null,this.init()}return a.getFullYear(),a.getMonth(),a.getDate(),h.prototype={init:function(){this.initInput(),this.initDomBox(),this.initDom()},initInput:function(){var t=this;this.input=document.querySelector(this.inputEl),this.parent=document.querySelector(this.el),this.dom=document.createElement(this.div),this.parent.appendChild(this.dom),this.isShow||(this.dom.style.display="none"),this.input.addEventListener("focus",(function(e){t.isShow=!0,t.isShow&&(t.dom.style.display="block",$(".show-month>div:nth-of-type(8)").siblings().hasClass("active")||$(".show-month>div:nth-of-type(8)").addClass("active"))})),document.addEventListener("click",(function(e){var n=e.target;if(null!=n.parentNode){for(;n;){if(n==t.input||n==t.dom)return;n=n.parentNode}t.isShow=!1,t.isShow||(t.dom.style.display="none")}}))},initDomBox:function(){var t=this.div;this.yearDom=document.createElement(t),this.weekDom=document.createElement(t),this.monthDom=document.createElement(t),this.monthDom.classList.add("show-month"),this.btsDom=document.createElement(t),this.btsDom.classList.add("bts"),this.dom.appendChild(this.yearDom),this.dom.appendChild(this.weekDom),this.dom.appendChild(this.monthDom),this.dom.appendChild(this.btsDom)},initDom:function(){this.dom.classList.add("date-js"),this.renderYearDom(),this.renderWeekDom(),this.renderMonthDom(),this.initBtsDom()},initBtsDom:function(){var t=this.div,e=this,n=document.createElement(t),a=document.createElement(t);n.classList.add("bt"),n.innerHTML="今日",n.addEventListener("click",(function(){e.currectYear=e.today1.nowFullYear,e.currectMonth=e.today1.nowMonth,e.renderMonthDom(e.showDateDom),e.showCurrectDate(e.showDateDom),e.currectChoice&&e.currectChoice.classList.remove("active"),e.currectChoice=e.todayDom,e.currectChoice.classList.add("active");var t=Number(e.todayDom.getAttribute("data-year")),n=Number(e.todayDom.getAttribute("data-month")),a=e.todayDom.innerHTML;e.input.value=t+"-"+l(n)+"-"+l(a),e.choiceDate.date=t+"-"+l(n)+"-"+l(a),e.choiceDate.month=n,e.choiceDate.year=t})),a.classList.add("bt"),a.innerHTML="确定",a.addEventListener("click",(function(){e.isShow=!1,e.isShow||(e.dom.style.display="none")})),this.btsDom.appendChild(n),this.btsDom.appendChild(a)},showCurrectDate:function(t){t.innerHTML=this.showDate()},renderYearDom:function(){var t=this.div,e=this,n=this.yearDom;n.classList.add("show-year");var a=this.showDateDom=document.createElement(t);a.classList.add("show-date"),this.showCurrectDate(a);var i=document.createElement(t);i.innerHTML="«",i.classList.add("change-date"),i.addEventListener("click",(function(){e.currectYear--,e.currectChoice=null,e.renderMonthDom(),e.showCurrectDate(a)}));var o=document.createElement(t);o.innerHTML="<",o.classList.add("change-date"),o.addEventListener("click",(function(){e.currectMonth--,e.currectChoice=null,0==e.currectMonth&&(e.currectMonth=12,e.currectYear--),e.renderMonthDom(),e.showCurrectDate(a)}));var r=document.createElement(t);r.innerHTML="»",r.classList.add("change-date"),r.addEventListener("click",(function(){e.currectYear++,e.currectChoice=null,e.renderMonthDom(),e.showCurrectDate(a)}));var s=document.createElement(t);s.innerHTML=">",s.classList.add("change-date"),s.addEventListener("click",(function(){e.currectMonth++,e.currectChoice=null,13==e.currectMonth&&(e.currectMonth=1,e.currectYear++),e.renderMonthDom(),e.showCurrectDate(a)})),n.appendChild(i),n.appendChild(o),n.appendChild(a),n.appendChild(s),n.appendChild(r)},renderWeekDom:function(){var t=this.div,e=this.weekDom;e.classList.add("show-week");for(var n=this.weeks,a=n.length,i=document.createDocumentFragment(),o=0;o<a;o++){var r=document.createElement(t);r.classList.add("week-day"),r.innerHTML=n[o],i.appendChild(r)}e.appendChild(i)},fn:function(){this.value=this.choiceDate.date,console.log(this.value)},renderMonthDom:function(e){for(var n=this,a=this.div,i=this.monthDom,o=(this.today1,this.currectYear),r=this.currectMonth,s=this.month(o,r),h=document.createDocumentFragment(),u=s.length,d=0;d<u;d++){var m=document.createElement(a);m.innerHTML=s[d].day,m.classList.add("month-day"),s[d].month==this.currectMonth&&s[d].year==this.currectYear||m.classList.add("not-this-month");var p=c(s[d].year,s[d].month-1,s[d].day);m.title=p,s[d].date==this.today1.date()&&m.classList.add("today"),m.setAttribute("data-month",s[d].month),m.setAttribute("data-year",s[d].year),s[d].date==this.choiceDate.date&&this.currectMonth==this.choiceDate.month&&this.currectYear==this.choiceDate.year&&(m.classList.add("active"),this.currectChoice=m),s[d].date==this.today1.date()&&(this.todayDom=m),m.addEventListener("click",(function(){$(".show-month>div:nth-of-type(8)").removeClass("active"),null!=n.currectChoice&&(n.currectChoice.classList.remove("active"),n.choiceDate={});var e=Number(this.getAttribute("data-year")),a=Number(this.getAttribute("data-month")),i=this.innerHTML;n.input.value=e+"-"+l(a)+"-"+l(i),n.choiceDate.date=e+"-"+l(a)+"-"+l(i),t.getInputvalue(),n.choiceDate.month=a,n.choiceDate.year=e,n.currectChoice=this,this.classList.add("active"),a!=n.currectMonth&&(n.currectMonth=a,n.currectYear=e,n.showCurrectDate(n.showDateDom),n.renderMonthDom(!0))})),h.appendChild(m)}i.innerHTML="",i.appendChild(h),e&&(n.dom.style.display="block")},month:function(t,e){var n=new Date(t,e,0).getDate(),a=this.weeks,i=this.showMonth=[],o=new Date(t,e-1,1).getDay();o=0==o?7:o;var r,s,c,l,h=new Date(t,e-1,0).getDate();e-1<=0?(r=12,s=t-1):(r=e-1,s=t);for(var u=h-o+1;u<=h;u++)i.push({year:s,month:r,date:s+"-"+r+"-"+u,day:u});for(u=1;u<=n;u++)a[new Date(t,e-1,u).getDay()],i.push({year:t,month:e,date:t+"-"+e+"-"+u,day:u});e+1>=13?(c=1,l=t+1):(c=e+1,l=t);for(var d=42-i.length,m=1;m<=d;m++)i.push({year:l,month:c,date:t+"-"+c+"-"+m,day:m});return i}},h.prototype.constructor=h,t.DateJs=h,h}(t)}("undefined"!=typeof window?window:this);e.d=n},123:(t,e,n)=>{let a=n(811),i=n(171),o=n(496);function r(t){let e=null,n=new XMLHttpRequest;return n.onreadystatechange=function(){4===n.readyState&&200===n.status&&(e=JSON.parse(n.responseText))},n.open("get",t,!1),n.send(null),e}function s(t,e,n){!function(t,e,n){let a=document.createElement("script");a.type="text/javascript",a.readyState?a.onreadystatechange=function(){"loaded"!==a.readyState&&"complete"!==a.readyState||(a.onreadystatechange=null,n())}:a.onload=function(){n()},a.src=e,a.id=t,document.getElementsByTagName("head")[0].appendChild(a)}("$"+e+"JS","../js/map/province/"+e+".js",(function(){l(t,0,n)}))}function c(t,e){tmpSeriesData=[],$(".buttons>button:nth-of-type(1)").hasClass("select")?("china"===t?(provincesText1.forEach((function(t,n){e.forEach((e=>{if(e.province===t){let t={name:provincesText[n],value:e.confirmed};tmpSeriesData.push(t)}}))})),str=`${curdate} 全国累计确诊总人数为:${e[0].confirmed}人`,strstr="确诊"):e.forEach((e=>{if(e.province===t){let t={name:e.city,value:e.confirmed};tmpSeriesData.push(t)}})),pieces="china"===t?chinaPieces1:proPieces1):$(".buttons>button:nth-of-type(2)").hasClass("select")?("china"===t?(provincesText1.forEach((function(t,n){e.forEach((e=>{if(e.province===t){let t={name:provincesText[n],value:e.cured};tmpSeriesData.push(t)}}))})),str=`${curdate} 全国累计治愈总人数为:${e[0].cured}人`,strstr="治愈"):e.forEach((e=>{if(e.province===t){let t={name:e.city,value:e.cured};tmpSeriesData.push(t)}})),pieces="china"===t?chinaPieces2:proPieces2):$(".buttons>button:nth-of-type(3)").hasClass("select")&&("china"===t?(provincesText1.forEach((function(t,n){e.forEach((e=>{if(e.province===t){let t={name:provincesText[n],value:e.dead};tmpSeriesData.push(t)}}))})),str=`${curdate} 全国累计死亡总人数为:${e[0].dead}人`,strstr="死亡"):e.forEach((e=>{if(e.province===t){let t={name:e.city,value:e.dead};tmpSeriesData.push(t)}})),pieces="china"===t?chinaPieces3:proPieces3);let n=[];if("china"===t){let t,e;tmpSeriesData.forEach((function(a,i){t=0,e=1,n.forEach((function(i,o){if(i.name===a.name){if(t+=i.value,e=0,i.value===a.value)return!0;t+=a.value,n.forEach((function(e,n){i.name===e.name&&(e.value=t)}))}})),e&&n.push(a)}))}else n=tmpSeriesData;tmpSeriesData=n,a.refreshbarLine(t,strstr,tmpSeriesData),a.DrawbarLine(t,strstr,tmpSeriesData),i.refreshBrokenLine(),o.refreshPiePic(t,strstr,tmpSeriesData)}function l(t,e,n){c(t,n);let a={title:{text:t+"疫情图",left:"center",textStyle:{color:"#5ea8c9",fontFamily:"宋体",fontSize:16}},tooltip:{trigger:"item"},visualMap:{type:"piecewise",pieces,textStyle:{color:"#000000"},inRange:{color:["lightskyblue","yellow","orangered"]},top:"55%"},series:[{name:t,type:"map",mapType:t,roam:!1,itemStyle:{normal:{label:{show:!0,textStyle:{color:"rgba(255,255,255,0)"}}},emphasis:{label:{show:!0}}},data:tmpSeriesData,top:"3%"}],graphic:[{type:"group",left:"center",button:130,children:[{type:"text",z:100,position:[270,500],style:{fill:"#333",text:str,font:"14px Microsoft YaHei"}}]}]};myChart.clear(),myChart.setOption(a,!0),myChart.off("click"),"china"===t&&(myChart.on("dblclick",(function(t){for(let e=0;e<provincesText.length;e++)if(t.name===provincesText[e]){s(provincesText[e],provinces[e],curdata);break}})),myChart.on("click",(function(t){for(let e=0;e<provincesText.length;e++)if(t.name===provincesText[e]){c(provincesText[e],curdata);break}})))}window.curdata=null,window.tmpSeriesData=[],window.pieces,window.str,window.strstr,e.renderMap=function(t){window.myChart=echarts.init(document.getElementById("china-map")),window.oBack=document.getElementById("back"),window.provinces=["shanghai","hebei","shanxi","neimenggu","liaoning","jilin","heilongjiang","jiangsu","zhejiang","anhui","fujian","jiangxi","shandong","henan","hubei","hunan","guangdong","guangxi","hainan","sichuan","guizhou","yunnan","xizang","shanxi1","gansu","qinghai","ningxia","xinjiang","beijing","tianjin","chongqing","xianggang","aomen"],window.provincesText=["上海","河北","山西","内蒙古","辽宁","吉林","黑龙江","江苏","浙江","安徽","福建","江西","山东","河南","湖北","湖南","广东","广西","海南","四川","贵州","云南","西藏","陕西","甘肃","青海","宁夏","新疆","北京","天津","重庆","香港","澳门"],window.provincesText1=["上海市","河北省","山西省","内蒙古自治区","辽宁省","吉林省","黑龙江省","江苏省","浙江省","安徽省","福建省","江西省","山东省","河南省","湖北省","湖南省","广东省","广西壮族自治区","海南省","四川省","贵州省","云南省","西藏自治区","陕西省","甘肃省","青海省","宁夏回族自治区","新疆维吾尔自治区","北京市","天津市","重庆市","香港","澳门"],window.chinaPieces1=[{min:1e3,max:1e6,label:"大于等于1000人",color:"#372a28"},{min:500,max:999,label:"确诊500-999人",color:"#4e160f"},{min:100,max:499,label:"确诊100-499人",color:"#974236"},{min:10,max:99,label:"确诊10-99人",color:"#ee7263"},{min:1,max:9,label:"确诊1-9人",color:"#f5bba7"}],window.proPieces1=[{min:1e3,max:1e6,label:"大于等于1000人",color:"#372a28"},{min:500,max:999,label:"确诊500-999人",color:"#4e160f"},{min:100,max:499,label:"确诊100-499人",color:"#974236"},{min:10,max:99,label:"确诊10-99人",color:"#ee7263"},{min:1,max:9,label:"确诊1-9人",color:"#f5bba7"}],window.chinaPieces2=[{min:1e3,max:1e6,label:"大于等于1000人",color:"#2d075f"},{min:500,max:999,label:"治愈500-999人",color:"#68229e"},{min:100,max:499,label:"治愈100-499人",color:"#5337c2"},{min:10,max:99,label:"治愈10-99人",color:"#0d38c4"},{min:1,max:9,label:"治愈1-9人",color:"#077dcf"}],window.proPieces2=[{min:1e3,max:1e6,label:"大于等于1000人",color:"#2d075f"},{min:500,max:999,label:"治愈500-999人",color:"#68229e"},{min:100,max:499,label:"治愈100-499人",color:"#5337c2"},{min:10,max:99,label:"治愈10-99人",color:"#0d38c4"},{min:1,max:9,label:"治愈1-9人",color:"#077dcf"}],window.chinaPieces3=[{min:1e3,max:1e6,label:"大于等于1000人",color:"#535cbd"},{min:500,max:999,label:"死亡500-999人",color:"#8560c1"},{min:100,max:499,label:"死亡100-499人",color:"#c567cb"},{min:10,max:99,label:"死亡10-99人",color:"#ff71d1"},{min:1,max:9,label:"死亡1-9人",color:"#fdd4ce"}],window.proPieces3=[{min:1e3,max:1e6,label:"大于等于1000人",color:"#535cbd"},{min:500,max:999,label:"死亡500-999人",color:"#8560c1"},{min:100,max:499,label:"死亡100-499人",color:"#c567cb"},{min:10,max:99,label:"死亡10-99人",color:"#ff71d1"},{min:1,max:9,label:"死亡1-9人",color:"#fdd4ce"}],new Promise((function(e,n){let a=r(t);setTimeout((function(){e(a)}),500)})).then((function(t){oBack.onclick=function(){l("china",0,t)},curdata=t,i.drawBrokenLine(),a.DrawbarLine("china","确诊",tmpSeriesData),l("china",0,t)}))},e.getData=r,e.refreshData=function(t){curdata=t,window.option=myChart.getOption(),c("china",t),option.series[0].data=tmpSeriesData,option.visualMap[0].pieces=pieces,option.graphic[0].elements[1].style.text=str,myChart.setOption(option),myChart.off("click"),oBack.onclick=function(){c("china",t),option.series[0].data=tmpSeriesData,myChart.setOption(option),myChart.on("click",(function(t){for(let e=0;e<provincesText.length;e++)if(t.name===provincesText[e]){c(provincesText[e],curdata);break}}))},myChart.on("click",(function(t){for(let e=0;e<provincesText.length;e++)if(t.name===provincesText[e]){c(provincesText[e],curdata);break}}))},e.getDate=function(t){window.curdate=t}}},e={};function n(a){if(e[a])return e[a].exports;var i=e[a]={exports:{}};return t[a].call(i.exports,i,i.exports,n),i.exports}(()=>{let t=n(553),e=n(123);window.onload=function(){let n=new t.d({inputEl:"#inputdate",el:"#date"});$("#inputdate").val("2019-12-01"),e.getDate("2019-12-01"),e.renderMap("../output/2019-12-01.json");let a=e.getData("../output/2019-12-01.json");function i(t){return 1===(t=String(t)).length&&(t=0+t),t}$(".buttons>button").each((function(t,n){$(this).click((function(){$(this).addClass("select"),$(this).siblings().removeClass("select"),$(this).siblings().css("background","none"),"累计确诊"===$(this).text()?$(this).css("background","#C23632"):"累计治愈"===$(this).text()?$(this).css("background","#5337c2"):"累计死亡"===$(this).text()&&$(this).css("background","#c567cb"),e.refreshData(a)}))}));let o=null;$(".iconfont").click((function(){$(this).hasClass("icon-kaishi")?($(this).removeClass("icon-kaishi"),$(this).addClass("icon-zanting"),o=setInterval((function(){let t,n=$("#inputdate").val();t="0"===n.slice(5,6)&&"0"===n.slice(8,9)?n.slice(0,5)+n.slice(6,8)+n.slice(9,10):"0"===n.slice(5,6)?n.slice(0,5)+n.slice(6,10):"0"===n.slice(8,9)?n.slice(0,8)+n.slice(9,10):n;let r=t.split("-"),s=new Date(r[0],parseInt(r[1])-1,parseInt(r[2])+1);s<new Date(2020,11,8)?(a=null,e.getDate(s.getFullYear()+"-"+i(s.getMonth()+1)+"-"+i(s.getDate())),a=e.getData(`../output/${s.getFullYear()+"-"+i(s.getMonth()+1)+"-"+i(s.getDate())}.json`),e.refreshData(a),$("#inputdate").val(s.getFullYear()+"-"+i(s.getMonth()+1)+"-"+i(s.getDate())),s=new Date(s.getTime()+864e5)):clearInterval(o)}),200)):$(this).hasClass("icon-zanting")&&($(this).removeClass("icon-zanting"),$(this).addClass("icon-kaishi"),clearInterval(o),e.getDate($("#inputdate").val()),a=e.getData(`../output/${$("#inputdate").val()}.json`),e.refreshData(a))})),$("#refresh").click((function(){window.history.go(0)})),window.getInputvalue=function(){e.getDate(n.choiceDate.date),a=e.getData(`../output/${n.choiceDate.date}.json`),e.refreshData(a)}}})()})();