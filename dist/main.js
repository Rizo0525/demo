(()=>{var t={553:function(t,e){let n=function(t,e){"use strict";return function(t,e){var n=new Array(19416,19168,42352,21717,53856,55632,91476,22176,39632,21970,19168,42422,42192,53840,119381,46400,54944,44450,38320,84343,18800,42160,46261,27216,27968,109396,11104,38256,21234,18800,25958,54432,59984,28309,23248,11104,100067,37600,116951,51536,54432,120998,46416,22176,107956,9680,37584,53938,43344,46423,27808,46416,86869,19872,42448,83315,21200,43432,59728,27296,44710,43856,19296,43748,42352,21088,62051,55632,23383,22176,38608,19925,19152,42192,54484,53840,54616,46400,46496,103846,38320,18864,43380,42160,45690,27216,27968,44870,43872,38256,19189,18800,25776,29859,59984,27480,21952,43872,38613,37600,51552,55636,54432,55888,30034,22176,43959,9680,37584,51893,43344,46240,47780,44368,21977,19360,42416,86390,21168,43312,31060,27296,44368,23378,19296,42726,42208,53856,60005,54576,23200,30371,38608,19415,19152,42192,118966,53840,54560,56645,46496,22224,21938,18864,42359,42160,43600,111189,27936,44448),i=(new Array("鼠","牛","虎","兔","龙","蛇","马","羊","猴","鸡","狗","猪"),new Array("甲","乙","丙","丁","戊","己","庚","辛","壬","癸"),new Array("子","丑","寅","卯","辰","巳","午","未","申","酉","戌","亥"),new Date);function a(t){var e,i=348;for(e=32768;e>8;e>>=1)i+=n[t-1900]&e?1:0;return i+o(t)}function o(t){return r(t)?65536&n[t-1900]?30:29:0}function r(t){return 15&n[t-1900]}function c(t){var e,i,c,s,h=0,d=(t-new Date(1900,0,31))/864e5;for(this.dayCyl=d+40,this.monCyl=14,e=1900;e<2050&&d>0;e++)d-=h=a(e),this.monCyl+=12;for(d<0&&(d+=h,e--,this.monCyl-=12),this.year=e,this.yearCyl=e-1864,i=r(e),this.isLeap=!1,e=1;e<13&&d>0;e++)i>0&&e==i+1&&0==this.isLeap?(--e,this.isLeap=!0,h=o(this.year)):(c=this.year,s=e,h=n[c-1900]&65536>>s?30:29),1==this.isLeap&&e==i+1&&(this.isLeap=!1),d-=h,0==this.isLeap&&this.monCyl++;0==d&&i>0&&e==i+1&&(this.isLeap?this.isLeap=!1:(this.isLeap=!0,--e,--this.monCyl)),d<0&&(d+=h,--e,--this.monCyl),this.month=e,this.day=d+1}function s(t,e,n){var i=new c(new Date(t,e,n));return function(t,e){e=parseInt(e);var n,i=new Array("日","正","二","三","四","五","六","七","八","九","十","冬","腊"),a=new Array("初","十","廿","卅","　"),o=new Array("日","一","二","三","四","五","六","七","八","九","十");switch(n=i[t]+"月",e){case 10:n+="初十";break;case 20:n+="二十";break;case 30:n+="三十";break;default:n+=a[Math.floor(e/10)],n+=o[e%10]}return n}(i.month,i.day)}function h(t){return 1==(t=String(t)).length&&(t=0+t),t}function d(t){t=t||{},this.inputEl=t.inputEl,this.el=t.el,this.input=null,this.div="div",this.dom=null;var e=new Date;this.today={nowFullYear:e.getFullYear(),nowMonth:e.getMonth()+1,nowDay:e.getDate(),nowDays:e.getDay(),date:function(){return this.nowFullYear+"-"+this.nowMonth+"-"+this.nowDay}},this.weeks=["日","一","二","三","四","五","六"],this.yearDom=null,this.weekDom=null,this.monthDom=null,this.currectYear=this.today.nowFullYear,this.currectMonth=this.today.nowMonth,this.showDate=function(){return this.currectYear+"年"+h(this.currectMonth)+"月"},this.showFullDate=function(t){return this.currectYear+"-"+h(this.currectMonth)+"-"+h(t)},this.choiceDateFn=function(t){return this.currectYear+"-"+this.currectMonth+"-"+t},this.choiceDate={},this.currectChoice=null,this.isShow=!1,this.todayDom=null,this.showDateDom=null,this.init()}return i.getFullYear(),i.getMonth(),i.getDate(),d.prototype={init:function(){this.initInput(),this.initDomBox(),this.initDom()},initInput:function(){var t=this;this.input=document.querySelector(this.inputEl),this.parent=document.querySelector(this.el),this.dom=document.createElement(this.div),console.log(this.parent),this.parent.appendChild(this.dom),this.isShow||(this.dom.style.display="none"),this.input.addEventListener("focus",(function(e){t.isShow=!0,t.isShow&&(t.dom.style.display="block")})),document.addEventListener("click",(function(e){var n=e.target;if(null!=n.parentNode){for(;n;){if(n==t.input||n==t.dom)return;n=n.parentNode}t.isShow=!1,t.isShow||(t.dom.style.display="none")}}))},initDomBox:function(){var t=this.div;this.yearDom=document.createElement(t),this.weekDom=document.createElement(t),this.monthDom=document.createElement(t),this.monthDom.classList.add("show-month"),this.btsDom=document.createElement(t),this.btsDom.classList.add("bts"),this.dom.appendChild(this.yearDom),this.dom.appendChild(this.weekDom),this.dom.appendChild(this.monthDom),this.dom.appendChild(this.btsDom)},initDom:function(){this.dom.classList.add("date-js"),this.renderYearDom(),this.renderWeekDom(),this.renderMonthDom(),this.initBtsDom()},initBtsDom:function(){var t=this.div,e=this,n=document.createElement(t),i=document.createElement(t);n.classList.add("bt"),n.innerHTML="今日",n.addEventListener("click",(function(){e.currectYear=e.today.nowFullYear,e.currectMonth=e.today.nowMonth,e.renderMonthDom(e.showDateDom),e.showCurrectDate(e.showDateDom),e.currectChoice&&e.currectChoice.classList.remove("active"),e.currectChoice=e.todayDom,e.currectChoice.classList.add("active");var t=Number(e.todayDom.getAttribute("data-year")),n=Number(e.todayDom.getAttribute("data-month")),i=e.todayDom.innerHTML;e.input.value=t+"-"+h(n)+"-"+h(i),e.choiceDate.date=t+"-"+h(n)+"-"+h(i),e.choiceDate.month=n,e.choiceDate.year=t})),i.classList.add("bt"),i.innerHTML="确定",i.addEventListener("click",(function(){e.isShow=!1,e.isShow||(e.dom.style.display="none")})),this.btsDom.appendChild(n),this.btsDom.appendChild(i)},showCurrectDate:function(t){t.innerHTML=this.showDate()},renderYearDom:function(){var t=this.div,e=this,n=this.yearDom;n.classList.add("show-year");var i=this.showDateDom=document.createElement(t);i.classList.add("show-date"),this.showCurrectDate(i);var a=document.createElement(t);a.innerHTML="«",a.classList.add("change-date"),a.addEventListener("click",(function(){e.currectYear--,e.currectChoice=null,e.renderMonthDom(),e.showCurrectDate(i)}));var o=document.createElement(t);o.innerHTML="<",o.classList.add("change-date"),o.addEventListener("click",(function(){e.currectMonth--,e.currectChoice=null,0==e.currectMonth&&(e.currectMonth=12,e.currectYear--),e.renderMonthDom(),e.showCurrectDate(i)}));var r=document.createElement(t);r.innerHTML="»",r.classList.add("change-date"),r.addEventListener("click",(function(){e.currectYear++,e.currectChoice=null,e.renderMonthDom(),e.showCurrectDate(i)}));var c=document.createElement(t);c.innerHTML=">",c.classList.add("change-date"),c.addEventListener("click",(function(){e.currectMonth++,e.currectChoice=null,13==e.currectMonth&&(e.currectMonth=1,e.currectYear++),e.renderMonthDom(),e.showCurrectDate(i)})),n.appendChild(a),n.appendChild(o),n.appendChild(i),n.appendChild(c),n.appendChild(r)},renderWeekDom:function(){var t=this.div,e=this.weekDom;e.classList.add("show-week");for(var n=this.weeks,i=n.length,a=document.createDocumentFragment(),o=0;o<i;o++){var r=document.createElement(t);r.classList.add("week-day"),r.innerHTML=n[o],a.appendChild(r)}e.appendChild(a)},fn:function(){this.value=this.choiceDate.date,console.log(this.value)},renderMonthDom:function(e){for(var n=this,i=this.div,a=this.monthDom,o=(this.today,this.currectYear),r=this.currectMonth,c=this.month(o,r),d=document.createDocumentFragment(),l=c.length,u=0;u<l;u++){var m=document.createElement(i);m.innerHTML=c[u].day,m.classList.add("month-day"),c[u].month==this.currectMonth&&c[u].year==this.currectYear||m.classList.add("not-this-month");var p=s(c[u].year,c[u].month-1,c[u].day);m.title=p,c[u].date==this.today.date()&&m.classList.add("today"),m.setAttribute("data-month",c[u].month),m.setAttribute("data-year",c[u].year),c[u].date==this.choiceDate.date&&this.currectMonth==this.choiceDate.month&&this.currectYear==this.choiceDate.year&&(m.classList.add("active"),this.currectChoice=m),c[u].date==this.today.date()&&(this.todayDom=m),m.addEventListener("click",(function(){null!=n.currectChoice&&(n.currectChoice.classList.remove("active"),n.choiceDate={});var e=Number(this.getAttribute("data-year")),i=Number(this.getAttribute("data-month")),a=this.innerHTML;n.input.value=e+"-"+h(i)+"-"+h(a),n.choiceDate.date=e+"-"+h(i)+"-"+h(a),t.getInputvalue(),n.choiceDate.month=i,n.choiceDate.year=e,n.currectChoice=this,this.classList.add("active"),i!=n.currectMonth&&(n.currectMonth=i,n.currectYear=e,n.showCurrectDate(n.showDateDom),n.renderMonthDom(!0))})),d.appendChild(m)}a.innerHTML="",a.appendChild(d),e&&(n.dom.style.display="block")},month:function(t,e){var n=new Date(t,e,0).getDate(),i=this.weeks,a=this.showMonth=[],o=new Date(t,e-1,1).getDay();o=0==o?7:o;var r,c,s,h,d=new Date(t,e-1,0).getDate();e-1<=0?(r=12,c=t-1):(r=e-1,c=t);for(var l=d-o+1;l<=d;l++)a.push({year:c,month:r,date:c+"-"+r+"-"+l,day:l});for(l=1;l<=n;l++)i[new Date(t,e-1,l).getDay()],a.push({year:t,month:e,date:t+"-"+e+"-"+l,day:l});e+1>=13?(s=1,h=t+1):(s=e+1,h=t);for(var u=42-a.length,m=1;m<=u;m++)a.push({year:h,month:s,date:t+"-"+s+"-"+m,day:m});return a}},d.prototype.constructor=d,t.DateJs=d,d}(t)}("undefined"!=typeof window?window:this);e.d=n},123:(t,e)=>{e.renderMap=function(t){let e;console.log(t);let n=new XMLHttpRequest;n.onreadystatechange=function(){4===n.readyState&&200===n.status&&(e=JSON.parse(n.responseText))},n.open("get",t,!1),n.send(null);let i=echarts.init(document.getElementById("china-map")),a=document.getElementById("back"),o=["shanghai","hebei","shanxi","neimenggu","liaoning","jilin","heilongjiang","jiangsu","zhejiang","anhui","fujian","jiangxi","shandong","henan","hubei","hunan","guangdong","guangxi","hainan","sichuan","guizhou","yunnan","xizang","shanxi1","gansu","qinghai","ningxia","xinjiang","beijing","tianjin","chongqing","xianggang","aomen"],r=["上海","河北","山西","内蒙古","辽宁","吉林","黑龙江","江苏","浙江","安徽","福建","江西","山东","河南","湖北","湖南","广东","广西","海南","四川","贵州","云南","西藏","陕西","甘肃","青海","宁夏","新疆","北京","天津","重庆","香港","澳门"],c=[{min:1e3,max:1e6,label:"大于等于1000人",color:"#372a28"},{min:500,max:999,label:"确诊500-999人",color:"#4e160f"},{min:100,max:499,label:"确诊100-499人",color:"#974236"},{min:10,max:99,label:"确诊10-99人",color:"#ee7263"},{min:1,max:9,label:"确诊1-9人",color:"#f5bba7"}],s=[{min:1e3,max:1e6,label:"大于等于1000人",color:"#372a28"},{min:500,max:999,label:"确诊500-999人",color:"#4e160f"},{min:100,max:499,label:"确诊100-499人",color:"#974236"},{min:10,max:99,label:"确诊10-99人",color:"#ee7263"},{min:1,max:9,label:"确诊1-9人",color:"#f5bba7"}];function h(t,n){let a=[];"china"===t?e.forEach((t=>{let e={name:t.province,value:t.confirmed};a.push(e)})):e.forEach((e=>{if(e.province===t){let t={name:e.city,value:e.confirmed};a.push(t)}}));let l={title:{text:t+"疫情图",left:"center"},tooltip:{trigger:"item"},visualMap:{type:"piecewise",pieces:"china"===t?c:s,textStyle:{color:"#000000"},inRange:{color:["lightskyblue","yellow","orangered"]},top:"50%"},series:[{name:t,type:"map",mapType:t,roam:!1,itemStyle:{normal:{label:{show:!0,textStyle:{color:"rgba(255,255,255,0)"}}},emphasis:{label:{show:!0}}},data:a,top:"3%"}]};i.setOption(l),i.off("click"),"china"===t?i.on("click",(function(t){for(let e=0;e<r.length;e++)if(t.name===r[e]){d(r[e],o[e]);break}})):i.on("dblclick",(function(){h("china")}))}function d(t,e){!function(t,e,n){let i=document.createElement("script");i.type="text/javascript",i.readyState?i.onreadystatechange=function(){"loaded"!==i.readyState&&"complete"!==i.readyState||(i.onreadystatechange=null,n())}:i.onload=function(){n()},i.src=e,i.id=t,document.getElementsByTagName("head")[0].appendChild(i)}("$"+e+"JS","../js/map/province/"+e+".js",(function(){h(t)}))}a.onclick=function(){h("china")},h("china")}}},e={};function n(i){if(e[i])return e[i].exports;var a=e[i]={exports:{}};return t[i].call(a.exports,a,a.exports,n),a.exports}(()=>{let t=n(553),e=n(123);window.onload=function(){let n=new t.d({inputEl:"#inputdate",el:"#date"});document.querySelector("#inputdate").val="2020-01-08",e.renderMap("../output/2020-01-08.json"),window.getInputvalue=function(){console.log(n.choiceDate.date),document.querySelector("#china-map").innerHTML="",e.renderMap(`../output/${n.choiceDate.date}.json`)}}})()})();